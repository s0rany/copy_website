<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penn State Advising</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <nav>
            <div class="navContainer">
                <div class="logoContainer">
                    <img id="logoShield" src="assets/penn-state-shield.jpg" alt="Penn State Shield Logo">
                    <img id="logoText" src="assets/logotype.svg" alt="Penn State Text Logo">
                </div>
                <div class="navLinks">
                    <a href="https://www.registrar.psu.edu/registration/registration-timetable.cfm">Registration Timetable</a>
                    <a href="https://www.registrar.psu.edu/degree-planning/">Degree Planning</a>
                    <a href="https://advising.psu.edu/how-advise">How to Advise</a>
                    <a href="https://advising.psu.edu/policies-and-procedures">Policies and Procedures</a>
                    <a href="https://advising.psu.edu/essential-resources">Essential Resources</a>
                </div>
            </div>
        </nav>
    </header>

    <div class="heroContainer">
        <img id="heroImage" src="assets/pexels-linkedin-1251861.jpg" alt="Student leaving a building">
    </div>

    <div class="bodyContainer">
        <h1>Welcome to Penn State Advising</h1>
        <p>Learn about the resources available to get the most of our college experience.</p>

        <div class="cardContainer">
            <div class="card">
                <img src="assets/pexels-anastasiya-gepp-654466-1462630.jpg" alt="Student holding folder">
                <h3>Resources for Students</h3>
                <p>Learn more about how you can schedule a meeting with an academic adviser.</p>
            </div>
            <div class="card">
                <img src="assets/pexels-divinetechygirl-1181372.jpg" alt="Person looking at laptop and two people looking over his shoulder at the screen">
                <h3>Resources for Advisers</h3>
                <p>Learn more about the specific policies and procedures for advising students.</p>
            </div>
        </div>
    </div>

    <!-- Invisible hover area -->
    <div id="hoverCopyZone"
         style="width:300px; height:150px; position:absolute; top:250px; left:50px; opacity:0;">
    </div>

    <!-- COPY BUTTON -->
    <button id="copyBtn" 
            style="display:none; position:fixed; bottom:20px; right:20px; padding:10px 16px; font-size:16px;">
        Copy
    </button>

    <!-- Watson Assistant script -->
    <script>
        window.watsonAssistantChatOptions = {
            integrationID: "bf5bd1de-50e4-4afe-8425-efc5fffe469b",
            region: "us-south",
            serviceInstanceID: "0157dbeb-3e2a-4116-9582-d946ad51a3e1",
            onLoad: async (instance) => { 
                await instance.render();

                // LISTEN FOR COPY EVENTS FROM ASSISTANT
                instance.on({
                    type: "customEvent",
                    handler: (event) => {
                        if (event.name === "copyToClipboard") {
                            const text = event.data;
                            const btn = document.getElementById("copyBtn");

                            btn.style.display = "block";
                            btn.textContent = "Click to Copy";

                            btn.onclick = null;
                            btn.onclick = () => {
                                navigator.clipboard.writeText(text)
                                    .then(() => {
                                        alert("Copied to clipboard!");
                                        btn.style.display = "none";
                                    })
                                    .catch(err => console.error("Copy failed:", err));
                            };
                        }
                    }
                });
            }
        };

        setTimeout(function () {
            const t = document.createElement("script");
            t.src = "https://web-chat.global.assistant.watson.appdomain.cloud/versions/"
                + (window.watsonAssistantChatOptions.clientVersion || "latest")
                + "/WatsonAssistantChatEntry.js";
            document.head.appendChild(t);
        });
    </script>

    <!-- Hover to copy script -->
    <script>
        const hoverZone = document.getElementById("hoverCopyZone");
        const copyBtn = document.getElementById("copyBtn");

        const textToCopy = `Dear Sri,
Here is a summary of our meeting regarding your interest in changing majors to HCDd:
You've already completed courses IST 110 and IST 140; currently enrolled in IST 210.
Still required to fulfill general education requirements including GEAs and GNs.
Expressed desire to declare a Graphics Design Minor alongside HCDD Major - compatibility was noted during discussion.
Entrance GPA criteria mentioned at 2.7 threshold.
Change Of Major Petition process outlined necessary steps moving forward.
Proposed plan involves completing IST 220 plus one GN Course & Support Option Class subsequently.
Feel free to reach out if you have any questions.
Sincerely,
Donna`;

        hoverZone.addEventListener("mouseenter", () => {
            copyBtn.style.display = "block";
            copyBtn.textContent = "Click to Copy";

            copyBtn.onclick = () => {
                navigator.clipboard.writeText(textToCopy)
                    .then(() => alert("Copied to clipboard!"))
                    .catch(err => console.error("Copy failed:", err));
            };
        });

        hoverZone.addEventListener("mouseleave", () => {
            copyBtn.style.display = "none";
        });
    </script>
</body>
</html>
